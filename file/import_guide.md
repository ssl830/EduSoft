# 学生导入功能说明文档

## 功能概述
本功能支持通过JSON数据批量导入学生到指定班级。每次导入操作都会生成导入记录，记录导入的详细信息。

## 导入说明

### JSON数据格式要求
1. 数据必须为JSON数组格式
2. 每个学生对象必须包含`student_id`字段
3. 示例数据格式：
```json
[
    {
        "student_id": "1",
        "name": "张三",
        "other_info": "其他信息"
    },
    {
        "student_id": "2",
        "name": "李四",
        "other_info": "其他信息"
    }
]
```

### 导入流程
1. 选择要导入的班级
2. 准备学生数据（可以是CSV文件转换后的JSON，或手动输入的JSON）
3. 发送导入请求
4. 系统自动处理数据并导入学生
5. 显示导入结果（成功/失败数量及原因）

## 导入记录说明
每次导入操作都会生成一条导入记录，包含以下信息：
- 导入时间
- 导入类型（FILE/MANUAL）
- 总记录数
- 成功导入数
- 失败数
- 失败原因

## API接口说明

### 1. 学生导入
- 接口：`POST /api/imports/students`
- 参数：
  - classId：班级ID
  - operatorId：操作人ID
  - importType：导入类型（FILE/MANUAL）
  - studentData：学生数据JSON数组

### 2. 获取导入记录
- 接口：`GET /api/imports/records/{classId}`
- 参数：
  - classId：班级ID

### 3. 获取导入记录详情
- 接口：`GET /api/imports/record/{id}`
- 参数：
  - id：导入记录ID

## 注意事项
1. 导入前请确保JSON数据格式正确
2. 已存在于班级中的学生将被跳过
3. 导入过程中如遇到错误，系统会记录具体原因
4. 建议定期查看导入记录，及时处理导入失败的情况

## 错误处理
1. 数据格式错误：检查JSON数据格式是否符合要求
2. 学生ID不存在：确认学生ID是否有效
3. 学生已在班级中：无需重复导入
4. 其他错误：查看具体错误信息进行处理 